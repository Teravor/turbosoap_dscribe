

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TurboSOAP Example &mdash; turbosoap_dscribe  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> turbosoap_dscribe
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">TurboSOAP Example</a><ul>
<li><a class="reference internal" href="#setup">Setup</a></li>
<li><a class="reference internal" href="#turbosoapspecie">TurboSOAPSpecie</a></li>
<li><a class="reference internal" href="#comparing-environments">Comparing environments</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">turbosoap_dscribe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>TurboSOAP Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="turbosoap-example">
<h1>TurboSOAP Example<a class="headerlink" href="#turbosoap-example" title="Permalink to this headline">¶</a></h1>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>Instantiating the TurboSOAP descriptor is done as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dscribe.descriptors.turbosoap</span> <span class="kn">import</span> <span class="n">TurboSOAP</span>

<span class="n">turbosoap</span> <span class="o">=</span> <span class="n">TurboSOAP</span><span class="p">(</span><span class="n">species</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>  <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>After creation the TurboSOAP descriptor can applied to atomic structures:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Water molecule</span>
<span class="n">water</span> <span class="o">=</span> <span class="n">molecule</span><span class="p">(</span><span class="s2">&quot;H2O&quot;</span><span class="p">)</span>

<span class="c1">#Create TurboSOAP output for water</span>
<span class="n">turbosoap_water</span> <span class="o">=</span> <span class="n">turbosoap</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">turbosoap_water</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">turbosoap_water</span><span class="p">)</span>
</pre></div>
</div>
<p>The TurboSOAP descriptor uses a lot of default parameters which are decent defaults but might not be
physically or computationally optimal paremeters to represent atomic environments in specific cases.
The parameters enable good accuracy and quick computation times if they are chosen judiciously.</p>
<p>In order to tune the parameters we need to use TurboSOAPSpecie to define them.</p>
</div>
<div class="section" id="turbosoapspecie">
<h2>TurboSOAPSpecie<a class="headerlink" href="#turbosoapspecie" title="Permalink to this headline">¶</a></h2>
<p>TurboSOAPSpecie can be used to define all the per-species parameters used by TurboSOAP.
A more involved example using TurboSOAPSpecies:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">turbosoap_dscribe</span> <span class="kn">import</span> <span class="n">TurboSOAPSpecie</span>

<span class="c1"># More control on each species</span>
<span class="n">H_config</span> <span class="o">=</span> <span class="n">TurboSOAPSpecie</span><span class="p">(</span><span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">buffer</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">atom_sigma_r</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span> <span class="n">atom_sigma_t</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="n">atom_sigma_r_scaling</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span> <span class="n">atom_sigma_t_scaling</span> <span class="o">=</span> <span class="mf">0.025</span><span class="p">)</span>
<span class="n">O_config</span> <span class="o">=</span> <span class="n">TurboSOAPSpecie</span><span class="p">(</span><span class="n">rcut</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">nmax</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">buffer</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">atom_sigma_r</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">atom_sigma_t</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">,</span>
        <span class="n">atom_sigma_r_scaling</span> <span class="o">=</span> <span class="mf">0.03</span><span class="p">,</span> <span class="n">atom_sigma_t_scaling</span> <span class="o">=</span> <span class="mf">0.020</span><span class="p">)</span>

<span class="n">turbosoap</span> <span class="o">=</span> <span class="n">TurboSOAP</span><span class="p">(</span><span class="n">species</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="n">H_config</span><span class="p">,</span>  <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="n">O_config</span><span class="p">},</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="comparing-environments">
<h2>Comparing environments<a class="headerlink" href="#comparing-environments" title="Permalink to this headline">¶</a></h2>
<p>A quick example on how to compare environments. The quantity of interest is the similarity kernel between
two atomic environments which is between zero and one. Zero indicates that environments are not similar and one indicates that
the environments are the same. The kernel is computed as a dot product between two TurboSOAP vectors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dscribe.descriptors.turbosoap</span> <span class="kn">import</span> <span class="n">TurboSOAP</span>
<span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">molecule</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">turbosoap</span> <span class="o">=</span> <span class="n">TurboSOAP</span><span class="p">(</span><span class="n">species</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>  <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">},</span> <span class="n">lmax</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">water</span> <span class="o">=</span> <span class="n">molecule</span><span class="p">(</span><span class="s2">&quot;H2O&quot;</span><span class="p">)</span>
<span class="n">turbosoap_water</span> <span class="o">=</span> <span class="n">turbosoap</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">water</span><span class="p">)</span>
<span class="c1">#Compare similarity of hydrogen and oxygen environments</span>
<span class="c1">#Index 0 has oxygen atom and indices 1,2 have hydrogen atoms.</span>
<span class="nb">print</span><span class="p">(</span><span class="n">water</span><span class="o">.</span><span class="n">get_chemical_symbols</span><span class="p">())</span>

<span class="c1">#Compare hydrogen environments. Should be close to one </span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">turbosoap_water</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">turbosoap_water</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>

<span class="c1">#Compare oxygen-hydrogen. </span>
<span class="c1">#Should be quite small as the hydrogen and oxygen environments are quite different</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">turbosoap_water</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">turbosoap_water</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020 Miguel Caro

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>